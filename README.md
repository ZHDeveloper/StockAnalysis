# 股票分析工具

## 项目简介
本项目是一个基于 Python 的股票分析工具，用于自动化筛选符合特定技术指标条件的股票。目前支持三种分析策略：

1. 双均线多头排列策略
2. 均线金叉策略
3. 成本分析策略

## 技术架构
- 数据获取：使用 efinance 库获取实时行情和历史数据
- 数据分析：使用 pandas 进行数据处理和技术指标计算
- 并行处理：使用 multiprocessing 实现多进程并行分析
- 日志管理：自定义日志模块记录运行信息
- 消息通知：支持钉钉机器人推送分析结果

## 安装说明
1. 克隆项目到本地
```bash
git clone [项目地址]
cd StockAnalysis
```

2. 安装依赖包
```bash
pip install -r requirements.txt
```

## 使用方法

### 1. 双均线多头排列策略
该策略寻找同时满足日线和周线多头排列的股票。

```bash
python main.py --strategy double_ma
```

### 2. 均线金叉策略
该策略寻找满足均线金叉且成交量放大的股票。

```bash
python main.py --strategy ma
```

### 3. 成本分析策略
分析特定股票的成本情况，并提供操作建议。

```bash
python main.py --strategy cost --code 股票代码 --cost 成本价格
```

例如：
```bash
python main.py --strategy cost --code 000001 --cost 15.8
```

## 输出说明
1. 日志文件
   - 位置：`logs/stock_analysis_当前日期.log`
   - 内容：包含程序运行的详细日志，包括分析进度和发现的符合条件的股票

2. 选股结果
   - 位置：
     - 双均线策略：`stocks/double_ma_stocks.txt`
     - 均线金叉策略：`stocks/ma_stocks.txt`
   - 内容：列出当天所有符合条件的股票代码和名称

## 技术指标说明

### 双均线多头排列策略
- 使用 5、10、20、40、60、120 日均线
- 要求所有均线按照从上到下的顺序排列
- 同时满足日线和周线的多头排列条件

### 均线金叉策略
- 使用 5 日和 20 日均线
- 判断短期均线上穿长期均线
- 要求成交量较前期明显放大
- 支持 RSI 指标过滤（可选）

### 成本分析策略
- 综合分析均线系统、MACD、RSI、布林带等技术指标
- 根据当前价格与成本价的关系提供操作建议
- 支持止盈止损建议

## 注意事项
1. 本工具仅供学习和参考，不构成任何投资建议
2. 使用前请确保安装了所有必要的依赖包
3. 建议在 A 股交易时段运行，以获取最新的市场数据
4. 如需使用钉钉通知功能，请在 utils/dingtalk.py 中配置机器人 token

## 开发计划
1. 添加更多技术分析策略
2. 优化数据获取效率
3. 增加回测功能
4. 支持更多消息通知方式

## 贡献指南
欢迎提交 Issue 和 Pull Request 来帮助改进项目。