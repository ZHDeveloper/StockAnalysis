# 股票分析工具

这是一个基于 Python 的股票分析工具，使用双重多头排列策略进行选股。该工具可以自动分析 A 股市场所有股票的日线和周线数据，找出符合双重多头排列条件的股票。

## 功能特点

- 自动获取最新的 A 股市场股票数据
- 分析股票的日线和周线均线数据
- 使用双重多头排列策略进行选股
- 支持 5、10、20、40、60、120 日均线分析
- 自动生成分析日志和选股结果
- 支持 GitHub Actions 自动运行

## 双重多头排列策略说明

双重多头排列策略要求股票同时满足以下条件：

1. 日线多头排列：5日均线 > 10日均线 > 20日均线 > 40日均线 > 60日均线 > 120日均线
2. 周线多头排列：5周均线 > 10周均线 > 20周均线 > 40周均线 > 60周均线 > 120周均线

## 安装说明

1. 克隆项目到本地：
```bash
git clone [项目地址]
cd StockAnalysis
```

2. 安装依赖包：
```bash
pip install -r requirements.txt
```

## 使用方法

### 手动运行

直接运行 main.py 文件：

```bash
python main.py
```

### 自动运行

项目已配置 GitHub Actions，可以实现每个交易日自动运行分析。配置文件位于 `.github/workflows/daily_stock_analysis.yml`。

## 输出说明

1. 日志文件
   - 位置：`logs/stock_analysis_当前日期.log`
   - 内容：包含程序运行的详细日志，包括分析进度和发现的符合条件的股票

2. 选股结果
   - 位置：`stocks/stocks_当前日期.txt`
   - 内容：列出当天所有符合双重多头排列条件的股票代码

## 依赖库

- baostock：用于获取股票数据
- pandas：用于数据处理和分析
- datetime：处理日期和时间
- logging：日志记录

## 注意事项

1. 运行程序前需要确保网络连接正常
2. 首次运行时会自动创建 logs 和 stocks 目录
3. 每只股票分析间隔 0.1 秒，以避免频繁请求
4. 建议在交易日收盘后运行，以获取完整的交易数据

## 许可证

MIT License